schema: '2.0'
stages:
  preprocess_data:
    cmd: python src/preprocess_data.py --config=params.yaml
    deps:
    - path: src/get_data.py
      md5: 515746cbd06b53e5c4988fcf30f11ad6
      size: 851
    - path: src/preprocess_data.py
      md5: 35065c2c0ac578d192c7f4e53e275a64
      size: 4892
    outs:
    - path: data/pre-processed/data.csv
      md5: b97949205c011d464d17ba6029d55407
      size: 163024
  split_data:
    cmd: python src/split_data.py --config=params.yaml
    deps:
    - path: data/one_hot_encoded/one_hot_encoded.csv
      md5: 7c66d6aff0717d3d97f5561169560648
      size: 138731
    - path: src/get_data.py
      md5: 515746cbd06b53e5c4988fcf30f11ad6
      size: 851
    - path: src/split_data.py
      md5: df40fbef70cc05e0cd0c4fd7795247dd
      size: 1925
    outs:
    - path: data/split-data/test.csv
      md5: a2c588adc3788b278f22f12b66103c43
      size: 501
    - path: data/split-data/train.csv
      md5: 0e3d576a6cc68631b764022173491b4b
      size: 103536
    - path: data/split-data/val.csv
      md5: 9721d3d70bfbee1a4d64ffb0f95a1767
      size: 26353
  train_and_evaluate:
    cmd: python src/train_and_evaluate.py --config=params.yaml
    deps:
    - path: data/split-data/test.csv
      md5: a2c588adc3788b278f22f12b66103c43
      size: 501
    - path: data/split-data/train.csv
      md5: 0e3d576a6cc68631b764022173491b4b
      size: 103536
    - path: src/split_data.py
      md5: df40fbef70cc05e0cd0c4fd7795247dd
      size: 1925
    - path: src/train_and_evaluate.py
      md5: 7aceda598edce76707d682e516b2f3b0
      size: 3033
    params:
      params.yaml:
        estimators.DecisionTree.params.max_depth: 8
        estimators.DecisionTree.params.min_samples_leaf: 150
  one_hot_encoding:
    cmd: python src/one_hot_encoding.py --config=params.yaml
    deps:
    - path: data/pre-processed/data.csv
      md5: b97949205c011d464d17ba6029d55407
      size: 163024
    - path: src/get_data.py
      md5: 515746cbd06b53e5c4988fcf30f11ad6
      size: 851
    - path: src/one_hot_encoding.py
      md5: cb79d139a5745b03ac8f875313fc8f87
      size: 1549
    outs:
    - path: data/one_hot_encoded/one_hot_encoded.csv
      md5: 7c66d6aff0717d3d97f5561169560648
      size: 138731
